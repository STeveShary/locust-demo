import random

from locust import HttpLocust, TaskSet, task


class WebsiteTasks(TaskSet):

    # @task(100)
    # def index(self):
    #     self.client.get("/")

    @task(20)
    def get_by_title(self):
        self.client.get(f"/book-title?title={get_search_term()}", name="/book-title?title=[text]")

    @task(10)
    def get_by_id(self):
        self.client.get(f"/book?id={get_search_id()}", name="/book?id=[id]")

    @task(10)
    def get_by_ids(self):
        self.client.get(f"/books?ids={get_search_ids()}", name="/books?ids=[ids]")


class WebsiteUser(HttpLocust):
    task_set = WebsiteTasks
    min_wait = 5000
    max_wait = 15000


def get_search_term():
    return random.choice(popular_search_terms)


def get_search_id():
    return random.choice(book_ids)


def get_search_ids():
    return ",".join([random.choice(book_ids) for i in range(random.randint(1, 21))])


popular_search_terms = ["Origin", "People", "Alex", "Woman", "Window", "City", "Endless", "Night", "Judgment", "Road",
                        "Dark", "Death", "Great", "Alone", "Burn", "Bright", "Rising", "Sea", "Accidental", "Heroes",
                        "Dissapeared", "Ready", "Player", "One", "Thief", "Fallen", "Twisted", "Prey", "17th",
                        "Suspect", "Cast", "Outsider", "Shelter", "Place", "President", "Missing", "Other", "Woman",
                        "Origin", "Tailspin", "Crazy", "Rich", "Asians", "Leverage", "In", "Death", "Juror", "Lethal",
                        "White", "Red", "War", "Spark", "Of", "Light", "Holy", "Ghost", "Every", "Breath", "Reckoning",
                        "Dark", "Sacred", "Night", "Past", "Tense", "Look", "Alive", "Fire", "Blood", "Kingdom",
                        "Blind", "Blood", "Bone", "Reckoning"]

book_ids = ["1404803335", "1588345297", "1446276082", "1491522666", "970096410", "8436808053", "1848291388", "73402656",
            "323045979", "1847176968", "1760342769", "137029039", "806965339", "1405167971", "1565238567", "471310115",
            "231162413", "1781681368", "758266065", "163241032X", "198506449", "151511435X", "374228949", "393925609",
            "083421010X", "1502530538", "1447157788", "415643635", "262150506", "1430032308", "1118054172",
            "147924158X", "1849517789", "898706009", "1626360561", "415829224", "28603192", "199756554", "816689237",
            "1845879619", "859531414", "944205577", "520271181", "865714711", "71775560", "1628090308", "30683734",
            "375858938", "781780586", "1454709138", "295969288", "960369260", "143845404X", "1137506415", "314267999",
            "521899435", "1891127667", "1517638186", "618004378", "1594744327", "764349333", "528993712", "873498224",
            "1891143972", "1633430081", "323100457", "300209428", "1457532506", "1618510177", "1449430554",
            "098017824X", "1620291940", "778316254", "133455548", "321953290", "1491910917", "1451685246", "761139850",
            "189376219X", "1591203198", "1421579928", "735660182", "71449825", "899333834", "067944453X", "811858030",
            "520222903", "151224922X", "803279809", "1905449437", "1615305289", "1844768910", "4881176277", "471219819",
            "1937715310", "323359728", "807079316", "1598570501", "047177085X", "195283481", "894908243", "805241817",
            "801479290", "60013966", "1557788413", "1517071682", "736923578", "1941450067", "1508714002", "664229336",
            "1567924212", "1567114407", "1845974794", "1849941211", "787995886", "398076456", "718022459", "1452225257",
            "309090776", "198111827", "1862058784", "748686460", "765612763", "3764374950", "1857334582", "1593934777",
            "547248296", "195389646", "486413667", "155783847X", "1118734300", "986057703", "956817122", "1401310338",
            "691164215", "1449505236", "1119991765", "1856691179", "1852847190", "385540108", "1402744315", "132567237",
            "013398706X", "1426206453", "801474612", "670034487", "768430577", "178439923X", "312270178", "977006905",
            "3319131702", "1578700779", "736963073", "802864996", "1330769554", "1597843423", "081382639X", "664221432",
            "195333152", "984419128", "1937911101", "037575945X", "1600062180", "1780051034", "1469609681",
            "1579003990", "1402785488", "735580561", "1590843983", "821227718", "912800127", "1452127913", "155799756X",
            "684837056", "140032176X", "692300899", "1250069211", "1490907556", "2953892354", "1495904202",
            "1558747540", "195338103", "199694753", "3642118208", "736847065", "038534578X", "865652880", "470407654",
            "71744533", "807069256", "750688742", "894907980", "1570663858", "8475843778", "486780252", "159200900X",
            "1556522096", "674021193", "1848424949", "811836231", "1780922191", "547248237", "794602967", "1567933483",
            "310410304", "1612035272", "323100945", "64436020", "385741308", "823982661", "1565238427", "805341048",
            "440245680", "531245047", "323016979", "1848315996", "1770856870", "771025084", "268016844", "1630584924",
            "789327457", "743277112", "1622873238", "1576759776", "894873733", "674877209", "1497478200", "470714212",
            "1771641134", "789496941", "764552023", "1608682048", "76640493", "B00BDI1N8G", "471655317", "199641870",
            "1118076672", "1609004167", "1441531122", "1404219234", "1567921655", "1423637267", "159116589X",
            "446572233", "1594745692", "1401917038", "415854113", "764166441", "1590300068", "812981561", "324399723",
            "1118361369", "1505224446", "1596913940", "761356487", "3764378417", "1453738428", "1617291021",
            "052138673X", "1402203578", "736091122", "1908531118", "1568821158", "1481831348", "1906868824",
            "822343738", "144033837X", "553374273", "B00GOA2JVS", "1433688689", "098586690X", "199836809", "781805309",
            "470833440", "1480078972", "516273949", "316298891", "1936239930", "1611171563", "145111219X", "1935529870",
            "385325746", "470010061", "987661779", "099154692X", "9812706089", "1892769646", "864426410", "886828074",
            "047040292X", "321760042", "162692192X", "1848856490", "470452641", "702831298", "1632204754", "345479246",
            "618098585", "1932096108", "989670708", "974189405", "1593275994", "1429611944", "1627200606", "1604535148",
            "1611171903", "140273271", "1511877537", "1565543238", "486272117", "1780194110", "345548183", "1851667466",
            "791088545", "815344414", "1941220525", "1439874603", "823023494", "977512630", "3863357701", "1846033454",
            "031024420X", "933840225", "1554947693", "1438430884", "786466553", "1471151492", "3662453576", "736926739",
            "1936992094", "141629788X", "1621976068", "1884829619", "1419953966", "160006017X", "61560936",
            "1591477344", "082189000X", "1469963558", "1491947314", "446694851", "1618930060", "1403118108",
            "399226842", "1412003474", "1449389627", "B009CRTUG2", "178049095X", "486665216", "873536533", "3643904762",
            "816730261", "62366688", "393317722", "750675047", "1438006071", "158816862X", "415951879", "847826902",
            "1602200181", "1500896195", "1935233343", "B0007K0QU2", "199685770", "1848424418", "074256326X", "71768343",
            "781789389", "1609018982", "155022980X", "B000UFZDOS", "762736283", "1783792140", "1516952839", "989346439",
            "834804441", "160078397X", "131662554", "933770375", "1433550598", "62116398", "1591601207", "816904995",
            "1557988366", "1845370449", "62430823", "1401947824", "1454849479", "1934709611", "1613731930",
            "075912230X", "996621806", "743276965", "132764148", "314983473", "374111197", "098243877X", "933121016",
            "1891656872", "3791337173", "1421533367", "1476727228", "1512185566", "1591264154", "1628901853",
            "1594742928", "1880971399", "B009NH581W", "1938886976", "71496211", "805824081", "1554843219", "1926806417",
            "807505978", "1780193947", "765761475", "321934830", "2916954066", "470959770", "1581807392", "1514302136",
            "1592578519", "979963109", "1608716864", "310330173", "990633101", "9638680806", "1423113462", "446342963",
            "486482006", "B00072L3BQ", "983480303", "158479545X", "1405382643", "3829737106", "093864372X",
            "1557041504", "3805539029", "986000809", "1634508297", "1423600150", "1416586628", "295994525", "873515897",
            "1595548882", "053454486X", "1466416483", "965202704", "785140409", "1250082986", "679762302", "1439146969",
            "1601527128", "521520800", "1613210973", "1566952891", "1929133138", "1604537019", "415468701", "133995909",
            "912656158", "840054998", "1402267185", "8879116231", "803740824", "057815871X", "1570671516", "805071652",
            "1466206748", "989798364", "081922877X", "29273722", "1627410120", "140192468", "394574559", "333441664",
            "764344242", "1118184904", "1784926116", "1516846540", "1783532599", "1272651452", "383273287X", "78110963",
            "1613740646", "316196673", "037570129X", "899197019", "307381218", "1931498571", "849948207", "986396826",
            "146542508X", "1446305988", "1600060145", "1550222066", "1607069474", "1503201376", "1849054622",
            "674766911", "007786221X", "976154609", "B000E1ZA3C", "B0084QWC8U", "538729562", "812984803", "1626722315",
            "1890132055", "787944734", "1623365155", "374533660", "1305104137", "70540403", "801869781", "553593080",
            "721656218", "1118914090", "1898323879", "1420506099", "807058017", "1601254369", "736834036", "1931494991",
            "60597682", "882660667", "615648630", "1555663273", "1781168954", "1476788812", "143105132", "B009RBF63O",
            "393323803", "124695442", "1556439695", "1782211063", "1454911913", "1612347657", "1594860084",
            "1400010438", "B000W7F9OS", "B004BZSTQC", "1845112423", "B005M4LAIK", "1295102668", "B000868UG2",
            "1494296381", "199754543", "006090352X", "1118690834", "231164963", "1600611702", "1844833267", "745324398",
            "323397387", "674076265", "1440585148", "120885840", "1875610014", "1620311844", "867153288", "1890132608",
            "1423169409", "976944103", "195300025", "689038623", "762447281", "692524347", "1600583660", "380013924",
            "1614385165", "1906190100", "470498986", "1844432289", "938045652", "086719796X", "867151927", "812994094",
            "1493006444", "982754396", "750670223", "B001U4FZFA", "7119004085", "1567447260", "62183656", "1552094618",
            "91856078", "159691470X", "159244427X", "1849532478", "743234804", "888095508X", "150112403X", "761928944",
            "1569756961", "736853642", "1936096641", "415835895", "073566921X", "041531920X", "743296222", "1439193304",
            "600571157", "679890521", "1847209475", "760342474", "764114859", "158245003X", "62233378", "1590848799",
            "1438451342", "757315135", "874349419", "399174338", "1440336741", "314606629", "1623154731", "446672424",
            "193260376X", "316044822", "1585731471", "1583040706", "1137287365", "1595821627", "1515169863",
            "158243364X", "764210890", "451223152", "847816834", "1571574026", "B000Q1I08C", "123846846", "811860620",
            "880011467", "019958270X", "674008383", "736815139", "854293043", "B007RGQ34M", "310511402", "1625177097",
            "150400924X", "2553899", "1514125331", "1414312962", "1451624468", "1848218834", "136139396", "486404323",
            "124159907", "044100931X", "812105508", "1604427892", "785812113", "1936268949", "013172052X", "2883240485",
            "345391233", "1420073028", "3958260020", "1588467155", "1429648600", "857021176", "781404193", "439517796",
            "300171544", "867153571", "3938947470", "8489804206", "802405681", "544502698", "1612123775", "1439183376",
            "B0062PROF6", "1844436616", "813918332", "3899555589", "1563830396", "393322998", "60888180", "1499402503",
            "1930546785", "692336907", "1856699633", "1426304285", "395971039", "1505319722", "1936649594", "982663412",
            "972624449", "133902838", "1589520785", "1438001452", "1891845578", "692431136", "1430245123", "307387356",
            "158988082X", "808091204", "1511855150", "1416299114", "1612620272", "894909908", "1612382002",
            "1604686251", "143108670", "28429001", "1581605021", "007008761X", "866906193", "385348061", "983078327",
            "944092691", "9622178138", "013354401X", "1118968409", "1933617837", "1598695444", "1608320464",
            "147517487X", "157344927X", "158761118X", "B004MDIRYC", "1560373431", "300214693", "321715349",
            "1590300513", "1581821905", "1604061774", "930625706", "801634601", "006177460X", "1593720084",
            "1590301560", "399169482", "977220214", "988787504", "1401687652", "1560851392", "1438843461", "864421141",
            "1563638339", "547429223", "1579655912", "1881292258", "764322435", "312281722", "1118917715", "B003ZX7UNE",
            "735669627", "047119459X", "1466392851", "713489014", "1416028226", "1499362641", "1563925389",
            "1585362921", "157043154X", "1557835675", "1511891335", "60838590", "1600590934", "1118486870",
            "1493527487", "080103180X", "984525106", "345537270", "415775310", "9812347143", "140449469", "1572309458",
            "679722645", "141180145", "226283933", "1940636116", "1623437245", "1482639629", "1590789199", "989139719",
            "762792973", "60675012", "1440239142", "486246736", "393328635", "048623004X", "425279103", "820463876",
            "375706909", "1583473696", "142425710", "806918314", "1573248614", "312360118", "1579655580", "786101695",
            "674026675", "756649447", "379133140X", "893144045", "006236717X", "198703422", "310882532", "78050227",
            "1442484500", "786713666", "1904424600", "1575627701", "1630226432", "1936303698", "B00SB5NSRS",
            "816698546", "1780431988", "1594867658", "545208858", "691163049", "159726993X", "732291933", "199537348",
            "142360556X", "1400048354", "810933683", "736868453", "810943298", "516041851", "596510039", "814614205",
            "1446306054", "1591952751", "1853919756", "590331264", "1578632153", "307954854", "1401216269", "60926708",
            "737729228", "1441971416", "838502601", "1568587295", "1465040242", "1440831505", "762757493", "080508830X",
            "030018915X", "1849700370", "1512018015", "879839570", "1567180701", "1605295639", "1891540041",
            "802817688", "306458055", "1400202728", "1483306674", "199301085", "1568817207", "440246016", "4770020716",
            "082543307X", "765626055", "1476780498", "1481427253", "73382442", "132163497", "312089260", "1413321429",
            "674735498", "393705927", "743285239", "1412972124", "822549328", "847832031", "71359648", "679773584",
            "916856372", "1580110061", "749575301", "528978799", "976759004", "802783708", "996458107", "1555461565",
            "1404811524", "387732055", "123884373", "981600107", "1576855775", "1843401789", "1590848861", "765383705",
            "972121846", "545835623", "156158486X", "310515122", "1411400550", "515116998", "048626307X", "1905207255",
            "881926744", "1409763064", "943396530", "071412835X", "439530822", "199211434", "689804857", "387706372",
            "1601383304", "914846809", "1442498331", "159558921X", "1472811461", "613025113", "1508923094", "415854830",
            "1591866146", "919364756", "1439168288", "345804317", "887400558", "1608180573", "076133470X", "736862021",
            "373698968", "674666542", "156744685X", "804126011", "1500714771", "1907263527", "1857337034", "1616149051",
            "1508530203", "1618931547", "887307280", "B00FFBSU0Q", "1606996533", "1423203151", "988419637",
            "1430226412", "887488575X", "1629146536", "1612184715", "174179322X", "596515170", "545891469", "199555621",
            "1107675960", "321618521", "60744294", "985925035", "080061626X", "915361779", "300216920", "62220330",
            "1250064678", "736095500", "B00N4I2JMC", "1502550857", "1932159908", "698106741", "133827356", "B003WT0GT6",
            "262526808", "963906542", "1938793889", "1588160807", "132722992", "887392741", "1426979223", "312947046",
            "310211271", "713648589", "1565044517", "736052933", "1482014211", "3959850077", "62014560", "1434352463",
            "1511676981", "471592242", "990395510", "1563940124", "7443056", "739197622", "1631400657", "1514742888",
            "1908970162", "1572229136", "1440309213", "736083715", "1590515153", "1433541378", "899578810",
            "1138775843", "132823403", "1899171134", "184664092X", "312426038", "300211910", "146772629X", "684823128",
            "1624591345", "1402279760", "178009437X", "471267651", "1511432195", "1606600796", "1506202675",
            "762730897", "1938591097", "891342400", "966844777", "763746355", "1508828628", "134150317", "1585761761",
            "1554074762", "1223092550", "691125813", "226310159", "1402778406", "151744702X", "149530342X", "307720462",
            "789754517", "671017063", "1449373194", "091332101X", "415895995", "1580530575", "878425543", "766166554",
            "757302238", "757597726", "990375404", "123869374", "9017901594", "124833756", "B009KF05D8", "1908664398",
            "135134102", "892815094", "1598131621", "71430113", "472030922", "956132553", "1556618891", "310494575",
            "793522455", "764348930", "1566569958", "1604334657", "801453801", "984110909", "B001NPHHAM", "486241343",
            "1613251742", "006009110X", "691159076", "939868040", "62076116", "1442499540", "857080776", "1604687150",
            "993240712", "892723246", "1935254235", "470643765", "188872594X", "1943330174", "162860039X", "525938966",
            "1631529897", "1118128915", "813531217", "2266143042", "415444659", "141979534", "1563524759", "816080348",
            "931866855", "873649346", "1455703796", "736957693", "60932856", "615790399", "1900988143", "767906799",
            "1439137277", "1507881231", "1599218852", "1115686909", "61844713", "452296854", "1596447605", "1909414255",
            "882847287", "3527324720", "687021677", "1138777196", "B011MBE40W", "743233212", "1632596628", "736082301",
            "1572225092", "393928292", "1922117056", "310240328", "300154380", "471051969", "805212213", "910627878",
            "159240619X", "446392391", "1861760906", "1587710889", "516012398", "1939259339", "198714491", "1502455765",
            "007174245X", "692434291", "1608873633", "820330213", "1465025197", "1517387507", "1565235592",
            "1909263281", "1565237951", "193774745X", "763783137", "1589880544", "1491947322", "1571205942",
            "811832236", "1601150504", "1594745978", "1626540381", "1250058643", "130661112", "1432992996", "596529325",
            "671796410", "131164643", "1499260253", "1599051575", "62205501", "1440538875", "1936128454", "929701496",
            "670084069", "1743214774", "996229604", "078695387X", "275973735", "1590300769", "041591292X", "9080558354",
            "2843233739", "9881758564", "804137218", "920256570", "1931382255", "470011459", "1454816481", "451469674",
            "1893122026", "1741146372", "1619542366", "974732311", "764319647", "1614387028", "517587149", "1617652172",
            "448448637", "486428265", "131884433", "140936870X", "1862391947", "8872040876", "1423624394", "143039997"]
